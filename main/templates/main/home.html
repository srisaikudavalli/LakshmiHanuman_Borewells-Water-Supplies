{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lakshmi Hanuman Borewells | Professional Drilling Services</title>
    <link rel="icon" type="image/png" href="{% static 'main/logo2.png' %}">
    
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <style>
        /* --- GLOBAL --- */
        body { font-family: 'Poppins', sans-serif; overflow-x: hidden; background-color: #f8f9fa; }
        html { scroll-behavior: smooth; }
        :root {
            --primary-blue: #0a2558;
            --accent-gold: #ffc107;
            --active-red: #d32f2f;
        }

        /* --- 1. PRELOADER CSS (New) --- */
        #preloader {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: white; z-index: 99999;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            transition: opacity 0.5s ease;
        }
        .loader-logo { width: 100px; margin-bottom: 20px; animation: pulse 1.5s infinite; }
        .spinner {
            width: 40px; height: 40px; border: 4px solid #f3f3f3;
            border-top: 4px solid var(--primary-blue); border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }

        /* --- 2. BUTTON SHINE EFFECT (New) --- */
        .btn-shine {
            position: relative; overflow: hidden;
        }
        .btn-shine::after {
            content: ''; position: absolute; top: 0; left: -100%; width: 50%; height: 100%;
            background: linear-gradient(to right, rgba(255,255,255,0) 0%, rgba(255,255,255,0.3) 50%, rgba(255,255,255,0) 100%);
            transform: skewX(-25deg); animation: shine 3s infinite;
        }
        @keyframes shine { 100% { left: 150%; } }

        /* --- 3. GRADIENT TEXT (New) --- */
        /* --- 3. GRADIENT TEXT (Fixed) --- */
        .text-gradient {
            background: linear-gradient(45deg, #fff, #ffc107);
            -webkit-background-clip: text; /* For Chrome, Safari, Edge */
            background-clip: text;         /* Standard property for future compatibility */
            -webkit-text-fill-color: transparent;
            text-shadow: 0px 4px 10px rgba(0,0,0,0.3);
        }

        /* --- NAVBAR --- */
        .navbar { background-color: white !important; padding: 10px 0; box-shadow: 0 4px 15px rgba(0,0,0,0.05); }
        .navbar-brand img { height: 55px; }
        .brand-text { color: var(--primary-blue); font-weight: 800; line-height: 1.1; }
        .nav-link { color: #333 !important; font-weight: 600; padding: 10px 15px !important; transition: 0.3s; }
        .nav-link:hover { color: var(--primary-blue) !important; }
        .nav-link.active::after { content: ''; display: block; width: 30px; height: 3px; background-color: var(--active-red); margin-top: 5px; }
        .dropdown-menu { border: none; box-shadow: 0 10px 30px rgba(0,0,0,0.1); border-radius: 10px; margin-top: 15px; }
        .dropdown-item { padding: 10px 20px; font-weight: 500; }
        .dropdown-item:hover { background-color: #f8f9fa; color: var(--primary-blue); border-left: 3px solid var(--accent-gold); }

        /* --- MOBILE BAR --- */
        .mobile-action-bar {
            display: none; position: fixed; bottom: 0; left: 0; width: 100%;
            background: white; box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            z-index: 9999; padding: 12px; justify-content: space-between; gap: 10px;
        }
        @media (max-width: 768px) {
            .mobile-action-bar { display: flex; }
            .whatsapp-float { display: none; }
            body { padding-bottom: 70px; }
            .navbar-brand img { height: 45px; }
            .hero-rig-img { display: block !important; margin-top: 30px; }
        }

        /* --- HERO --- */
        .hero-section {
            background: linear-gradient(rgba(10, 37, 88, 0.95), rgba(10, 37, 88, 0.85));
            min-height: 85vh; display: flex; align-items: center; color: white;
            clip-path: polygon(0 0, 100% 0, 100% 90%, 0 100%); padding-top: 80px; padding-bottom: 100px;
        }
        .hero-badge { background: var(--accent-gold); color: var(--primary-blue); padding: 5px 15px; border-radius: 20px; font-weight: 700; margin-bottom: 15px; display: inline-block; }
        .hero-rig-img { border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); transition: 0.5s; width: 100%; }
        
        /* --- COMPONENTS --- */
        .info-strip { background: var(--accent-gold); color: var(--primary-blue); padding: 30px 0; margin-top: -60px; position: relative; z-index: 10; }
        .info-box { border-right: 1px solid rgba(0,0,0,0.1); text-align: center; }
        .info-box:last-child { border: none; }
        .info-box h3 { font-weight: 800; font-size: 2.5rem; margin: 0; }
        
        .whatsapp-float { position: fixed; width: 60px; height: 60px; bottom: 30px; right: 30px; background-color: #25d366; color: #FFF; border-radius: 50px; text-align: center; font-size: 30px; box-shadow: 2px 2px 3px #999; z-index: 1000; display: flex; align-items: center; justify-content: center; text-decoration: none; transition: 0.3s; }
        .whatsapp-float:hover { background-color: #128c7e; transform: scale(1.1); }

        .service-card, .gallery-card, .review-card { border: none; border-radius: 15px; overflow: hidden; background: white; box-shadow: 0 10px 25px rgba(0,0,0,0.05); height: 100%; transition: 0.3s; }
        .service-card:hover { transform: translateY(-10px); }
        .line { width: 80px; height: 4px; background: var(--accent-gold); margin: 10px auto; }
        
        /* --- FOOTER --- */
        footer { background: var(--primary-blue); color: white; padding-top: 60px; }
        .footer-map iframe { border-radius: 10px; width: 100%; height: 200px; }
        .accordion-button:not(.collapsed) { background-color: var(--primary-blue); color: white; }
    </style>
</head>
<body>

    <div id="preloader">
        <img src="{% static 'main/logo2.png' %}" alt="Loading..." class="loader-logo">
        <div class="spinner"></div>
        <p class="mt-3 text-muted fw-bold small">Loading Experience...</p>
    </div>

    <div class="mobile-action-bar">
        <a href="tel:+919849532483" class="btn btn-outline-primary fw-bold flex-fill me-2" style="border-width: 2px;">Call Now</a>
        <a href="https://wa.me/919849532483" class="btn btn-success fw-bold flex-fill ms-2">WhatsApp</a>
    </div>

    <a href="https://wa.me/919849532483" class="whatsapp-float" target="_blank">
        <i class="fab fa-whatsapp"></i>
    </a>

    <nav class="navbar navbar-expand-lg sticky-top">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center" href="#">
                <img src="{% static 'main/logo2.png' %}" alt="Logo">
                <div class="ms-2 d-none d-sm-block brand-text">
                    <div>LAKSHMI HANUMAN</div>
                    <small style="font-size: 0.65rem; opacity: 0.7; color: #555;">BOREWELLS & WATER SUPPLY</small>
                </div>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto align-items-center">
                    <li class="nav-item"><a class="nav-link active" href="#">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="#services">Services</a></li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">Drilling Methods</a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="#borewell">Borewell Drilling</a></li>
                            <li><a class="dropdown-item" href="#tubewell">Tubewell Drilling</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">About Us</a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="#founder">Our Founder</a></li>
                            <li><a class="dropdown-item" href="#">Company Profile</a></li>
                        </ul>
                    </li>
                    <li class="nav-item"><a class="nav-link" href="{% url 'book' %}" style="color: var(--active-red) !important; font-weight: 700;">Contact Us</a></li>
                    
                    {% if user.is_authenticated %}
                        <li class="nav-item dropdown ms-3">
                            <a class="nav-link dropdown-toggle text-primary" href="#" role="button" data-bs-toggle="dropdown" style="padding: 0 !important;">
                                <i class="fas fa-user-circle fa-2x"></i>
                            </a>
                            <ul class="dropdown-menu dropdown-menu-end">
                                <li><h6 class="dropdown-header">Hello, {{ user.username }}</h6></li>
                                <li><a class="dropdown-item" href="{% url 'profile' %}">My Profile</a></li>
                                {% if user.is_superuser %}
                                    <li><hr class="dropdown-divider"></li>
                                    <li><a class="dropdown-item" href="/admin/">Admin Panel</a></li>
                                    <li><a class="dropdown-item" href="{% url 'worker_dashboard' %}">Manage Workers</a></li>
                                {% endif %}
                                <li><hr class="dropdown-divider"></li>
                                <li><a class="dropdown-item text-danger" href="{% url 'logout' %}">Logout</a></li>
                            </ul>
                        </li>
                    {% else %}
                        <li class="nav-item ms-3">
                            <a class="nav-link btn btn-outline-primary px-4 rounded-pill" href="{% url 'login' %}">Login</a>
                        </li>
                    {% endif %}
                </ul>
            </div>
        </div>
    </nav>

    <header class="hero-section">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6 text-center text-lg-start z-2" data-aos="fade-right">
                    <div class="hero-badge">Since 1998</div>
                    <h1 class="display-3 fw-bold mb-3 hero-title text-gradient">Advanced Drilling <br>Technology</h1>
                    <p class="lead mb-4 opacity-75">We specialize in 4", 4½", 5", 6", 8" and 10" borewells using high-pressure water rigs. Serving Tadepalligudem & beyond.</p>
                    <div class="d-flex gap-3 justify-content-center justify-content-lg-start">
                        <a href="{% url 'book' %}" class="btn btn-warning btn-lg fw-bold rounded-pill px-5 shadow btn-shine">Get Quote</a>
                        <a href="#services" class="btn btn-outline-light btn-lg fw-bold rounded-pill px-5">View Services</a>
                    </div>
                </div>
                <div class="col-lg-6 z-1" data-aos="fade-left" data-aos-delay="200">
                    <img src="{% static 'main/banner.png' %}" alt="Modern Drilling Rig" class="img-fluid hero-rig-img">
                </div>
            </div>
        </div>
    </header>

    <div class="container" data-aos="fade-up">
        <div class="row info-strip shadow rounded">
            <div class="col-md-3 info-box"><h3 class="counter" data-target="25">0</h3><p>Years Experience</p></div>
            <div class="col-md-3 info-box"><h3 class="counter" data-target="250">0</h3><p>Projects</p></div>
            <div class="col-md-3 info-box"><h3 class="counter" data-target="100">0</h3><p>Success</p></div>
            <div class="col-md-3 info-box"><h3 class="counter" data-target="24">0</h3><p>Support</p></div>
        </div>
    </div>

    <section id="founder" class="container py-5 mt-4"><div class="row justify-content-center" data-aos="fade-up"><div class="col-lg-11"><div class="founder-card"><div class="row g-0"><div class="col-md-4 founder-img-box"><img src="{% static 'main/founder.jpg' %}" class="founder-img img-fluid" alt="Founder Image"></div><div class="col-md-8 p-4 p-lg-5"><h5 class="text-warning fw-bold text-uppercase mb-3"><i class="fas fa-crown me-2"></i> Our Founder & Legacy</h5><h2 class="fw-bold" style="color: var(--primary-blue);">Mr. KUDAVALLI HANUMANTHU RAO</h2><p class="text-muted fw-bold">Sarpanch of Kothuru Village (2021-2026) | TDP & Janasena Party</p><hr class="my-4" style="border-top: 2px dashed #ccc;"><p class="lead" style="font-size: 1.1rem; color: #555;">The founder of this company was <strong>Mr. Kudavalli Hanumanthu Rao</strong>, pillared by his father <strong>Shri. K. Venkat Rao</strong> and his elder son <strong>Mr. K. Naga Babu</strong>.</p><p style="color: #666;">He started this establishment in the year <strong>1998</strong> in <strong>Kothuru</strong>, Andhra Pradesh, India.</p><div class="mt-4"><img src="{% static 'main/logo2.png' %}" height="40" style="opacity: 0.6;" alt="Signature"></div></div></div></div></div></div></section><section class="py-5 bg-light"><div class="container"><div class="row align-items-center"><div class="col-lg-6 mb-4" data-aos="fade-right"><img src="{% static 'main/images1.jpg' %}" class="img-fluid rounded-4 shadow" alt="Team"></div><div class="col-lg-6" data-aos="fade-left"><h5 class="text-warning fw-bold">WHY CHOOSE US</h5><h2 class="fw-bold mb-4" style="color: var(--primary-blue);">We Deliver Water, Not Just Holes.</h2><p class="text-muted">Using advanced Geologist Surveying and experienced persons to find the best water points.</p><ul class="list-unstyled mt-4"><li class="mb-3 d-flex align-items-center"><i class="fas fa-check-circle text-primary me-3 fa-2x"></i><div><strong>High-Tech Rigs</strong><br><small class="text-muted">Drilling up to 1500 ft depth.</small></div></li><li class="mb-3 d-flex align-items-center"><i class="fas fa-shield-alt text-primary me-3 fa-2x"></i><div><strong>Transparent Pricing</strong><br><small class="text-muted">No hidden costs per foot.</small></div></li></ul></div></div></div></section><section id="services" class="container py-5"><div class="text-center mb-5" data-aos="fade-up"><h2>Our Services</h2><div class="line"></div></div><div class="row">{% for service in services %}<div class="col-md-4 mb-4" data-aos="fade-up"><div class="service-card p-4 text-center d-flex flex-column h-100">{% if service.image %}<img src="{{ service.image.url }}" class="img-fluid rounded mb-3" style="height: 250px; object-fit: contain; background-color: #fff; width: 100%;">{% endif %}<h4 class="fw-bold">{{ service.title }}</h4><p class="text-muted small flex-grow-1">{{ service.description }}</p><a href="{% url 'book' %}" class="btn btn-outline-primary btn-sm rounded-pill px-4 mt-3">Book Now</a></div></div>{% endfor %}</div></section><section class="py-5 bg-white"><div class="container"><div class="section-title mb-5 text-center" data-aos="fade-up"><h2>Drilling Methods</h2><div class="line mx-auto"></div><p class="text-muted">Specialized techniques for every soil formation</p></div><div id="borewell" class="row align-items-center mb-5" data-aos="fade-right" style="padding-top: 80px; margin-top: -80px;"><div class="col-lg-6 order-lg-2 mb-4 mb-lg-0"><img src="{% static 'main/images.jpg' %}" class="img-fluid rounded-4 shadow" style="width: 100%; height: 350px; object-fit: cover;" alt="Borewell"></div><div class="col-lg-6 order-lg-1"><div class="d-flex align-items-center mb-3"><div class="bg-primary text-white rounded-circle p-3 me-3"><i class="fas fa-bullseye fa-2x"></i></div><h3 class="fw-bold m-0" style="color: var(--primary-blue);">Borewell Drilling</h3></div><p>Ideal for Hard Rock Areas & Deep Aquifers. We use high-pressure water rigs.</p><ul class="list-unstyled mt-3"><li class="mb-2"><i class="fas fa-check-circle text-warning me-2"></i> <strong>Depth:</strong> Up to 1500 ft</li><li class="mb-2"><i class="fas fa-check-circle text-warning me-2"></i> <strong>Sizes:</strong> 4" to 10" diameter</li></ul><a href="{% url 'book' %}" class="btn btn-primary rounded-pill px-4 mt-2">Request Quote</a></div></div><div id="tubewell" class="row align-items-center" data-aos="fade-left" style="padding-top: 80px; margin-top: -80px;"><div class="col-lg-6 mb-4 mb-lg-0"><img src="{% static 'main/tubewell.jpg' %}" class="img-fluid rounded-4 shadow" style="width: 100%; height: 350px; object-fit: cover;" alt="Tubewell"></div><div class="col-lg-6"><div class="d-flex align-items-center mb-3"><div class="bg-warning text-dark rounded-circle p-3 me-3"><i class="fas fa-water fa-2x"></i></div><h3 class="fw-bold m-0" style="color: var(--primary-blue);">Tubewell Drilling</h3></div><p>Best for Loose Soil, Clay & Sand. Uses casing pipes to prevent collapse.</p><ul class="list-unstyled mt-3"><li class="mb-2"><i class="fas fa-check-circle text-primary me-2"></i> <strong>Suitability:</strong> River beds, coastal areas</li></ul><a href="{% url 'book' %}" class="btn btn-warning rounded-pill px-4 mt-2">Request Quote</a></div></div></div></section><section class="bg-white py-5"><div class="container"><div class="text-center mb-5"><h2>Project Gallery</h2><div class="line"></div></div><div class="row justify-content-center">{% for item in gallery_items %}<div class="col-md-4 mb-4" data-aos="zoom-in"><div class="gallery-card">{% if item.is_video %}<video width="100%" height="400" controls style="object-fit: contain; background: black;"><source src="{{ item.file.url }}" type="video/mp4"></video>{% else %}<img src="{{ item.file.url }}" style="width: 100%; height: 400px; object-fit: cover;">{% endif %}<div class="p-3 text-center fw-bold">{{ item.title }}</div></div></div>{% empty %}<div class="text-center text-muted">No media uploaded.</div>{% endfor %}</div></div></section><section class="container py-5"><div class="text-center mb-5"><h2>Client Stories</h2><div class="line"></div><a href="{% url 'add_review' %}" class="btn btn-outline-primary rounded-pill mt-3"><i class="fas fa-pen me-2"></i> Write a Review</a></div><div class="row">{% for review in reviews %}<div class="col-md-4 mb-4" data-aos="fade-up"><div class="review-card p-4"><div class="text-warning mb-3">⭐⭐⭐⭐⭐</div><p class="fst-italic text-muted">"{{ review.comment }}"</p><h6 class="fw-bold">- {{ review.customer_name }}</h6></div></div>{% empty %}<div class="text-center text-muted">No reviews yet.</div>{% endfor %}</div></section><footer><div class="container"><div class="row"><div class="col-md-4 mb-4"><div class="d-flex align-items-center mb-3"><img src="{% static 'main/logo2.png' %}" alt="Logo" style="height: 50px; margin-right: 15px;"><h4 class="fw-bold text-warning m-0">Lakshmi Hanuman</h4></div><p class="small opacity-75 mb-3">Professional Borewells & Water Supply in Tadepalligudem.</p><div class="mt-3"><img src="{% static 'main/banner.png' %}" alt="Visiting Card" class="img-fluid rounded shadow" style="border: 2px solid #ffc107; max-width: 100%;"></div></div><div class="col-md-4 mb-4"><h5 class="fw-bold mb-3">Contact Info</h5><ul class="list-unstyled"><li class="mb-2"><i class="fas fa-phone me-2 text-warning"></i> +91 98495 32483</li><li class="mb-2"><i class="fas fa-envelope me-2 text-warning"></i> srisaikudavalli@gmail.com</li><li><i class="fas fa-map-marker-alt me-2 text-warning"></i> Kothuru, Tadepalligudem</li></ul></div><div class="col-md-4 mb-4"><h5 class="fw-bold mb-3">Location</h5><div class="footer-map"><iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d61108.66564670038!2d81.49258286950587!3d16.814271816578035!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3a364be16a92df4b%3A0x63351d02c650890!2sTadepalligudem%2C%20Andhra%20Pradesh!5e0!3m2!1sen!2sin!4v1701072000000!5m2!1sen!2sin" allowfullscreen="" loading="lazy"></iframe></div></div></div><div class="text-center py-4 border-top border-secondary mt-4"><small>© 2025 Lakshmi Hanuman Borewells. Built for Success.</small></div></div></footer>

    {% if messages %}
    <script id="django-messages" type="application/json">
        [
            {% for message in messages %}
                { "level": "{{ message.tags }}", "text": "{{ message|escapejs }}" }{% if not forloop.last %},{% endif %}
            {% endfor %}
        ]
    </script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            try {
                const messages = JSON.parse(document.getElementById('django-messages').textContent);
                messages.forEach(msg => {
                    Swal.fire({
                        title: msg.level.includes('success') ? 'Success!' : 'Notification',
                        text: msg.text,
                        icon: msg.level.includes('success') ? 'success' : 'info',
                        confirmButtonColor: '#0a2558',
                        confirmButtonText: 'OK',
                        timer: 3000,
                        timerProgressBar: true
                    });
                });
            } catch(e) {}
        });
    </script>
    {% endif %}

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script> 
        AOS.init({ duration: 1000, once: true }); 
        const counters = document.querySelectorAll('.counter');
        counters.forEach(counter => {
            counter.innerText = '0';
            const updateCounter = () => {
                const target = +counter.getAttribute('data-target');
                const c = +counter.innerText;
                const increment = target / 100;
                if(c < target) {
                    counter.innerText = `${Math.ceil(c + increment)}`;
                    setTimeout(updateCounter, 20);
                } else { counter.innerText = target; }
            };
            updateCounter();
        });
        
        // 4. HIDE PRELOADER WHEN LOADED
        window.addEventListener('load', function() {
            document.getElementById('preloader').style.opacity = '0';
            setTimeout(() => { document.getElementById('preloader').style.display = 'none'; }, 500);
        });
    </script>
</body>
</html>